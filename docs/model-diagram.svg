<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background and Title -->
  <rect width="800" height="600" fill="#f9f9f9" rx="10" ry="10"/>
  <text x="400" y="40" font-family="Arial" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">Multimodal Architecture for Embolism Prediction</text>
  
  <!-- Input Section -->
  <g transform="translate(30, 80)">
    <rect width="200" height="100" fill="#e6f7ff" stroke="#1890ff" stroke-width="2" rx="8" ry="8"/>
    <text x="100" y="30" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Time Series Data</text>
    <text x="100" y="55" font-family="Arial" font-size="12" text-anchor="middle">- Vital Signs</text>
    <text x="100" y="75" font-family="Arial" font-size="12" text-anchor="middle">- Laboratory Values</text>
    <text x="100" y="95" font-family="Arial" font-size="12" text-anchor="middle">(Variable Length Sequences)</text>
  </g>
  
  <g transform="translate(300, 80)">
    <rect width="200" height="100" fill="#f6ffed" stroke="#52c41a" stroke-width="2" rx="8" ry="8"/>
    <text x="100" y="30" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Static Data</text>
    <text x="100" y="55" font-family="Arial" font-size="12" text-anchor="middle">- Demographics</text>
    <text x="100" y="75" font-family="Arial" font-size="12" text-anchor="middle">- Clinical Note Features</text>
    <text x="100" y="95" font-family="Arial" font-size="12" text-anchor="middle">- Medication Features</text>
  </g>
  
  <!-- Encoders -->
  <g transform="translate(30, 220)">
    <rect width="200" height="120" fill="#e6f7ff" stroke="#1890ff" stroke-width="2" rx="8" ry="8"/>
    <text x="100" y="30" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Time Series Encoder</text>
    <text x="100" y="55" font-family="Arial" font-size="12" text-anchor="middle">LSTM Network</text>
    <text x="100" y="75" font-family="Arial" font-size="12" text-anchor="middle">- Bidirectional Processing</text>
    <text x="100" y="95" font-family="Arial" font-size="12" text-anchor="middle">- Attention Mechanism</text>
    <text x="100" y="115" font-family="Arial" font-size="12" text-anchor="middle">- Temporal Pattern Capture</text>
  </g>
  
  <g transform="translate(300, 220)">
    <rect width="200" height="120" fill="#f6ffed" stroke="#52c41a" stroke-width="2" rx="8" ry="8"/>
    <text x="100" y="30" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Static Encoder</text>
    <text x="100" y="55" font-family="Arial" font-size="12" text-anchor="middle">Neural Network</text>
    <text x="100" y="75" font-family="Arial" font-size="12" text-anchor="middle">- Linear Transformation</text>
    <text x="100" y="95" font-family="Arial" font-size="12" text-anchor="middle">- ReLU Activation</text>
    <text x="100" y="115" font-family="Arial" font-size="12" text-anchor="middle">- Dropout Regularization</text>
  </g>
  
  <!-- Fusion Layer -->
  <g transform="translate(165, 380)">
    <rect width="200" height="80" fill="#fff1f0" stroke="#f5222d" stroke-width="2" rx="8" ry="8"/>
    <text x="100" y="30" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Feature Fusion</text>
    <text x="100" y="55" font-family="Arial" font-size="12" text-anchor="middle">- Concatenation</text>
    <text x="100" y="75" font-family="Arial" font-size="12" text-anchor="middle">- Dimensionality Reduction</text>
  </g>
  
  <!-- Output Layer -->
  <g transform="translate(165, 500)">
    <rect width="200" height="60" fill="#fff2e8" stroke="#fa8c16" stroke-width="2" rx="8" ry="8"/>
    <text x="100" y="25" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Classification Head</text>
    <text x="100" y="45" font-family="Arial" font-size="12" text-anchor="middle">Embolism Risk Prediction</text>
  </g>
  
  <!-- Right Side - Explainability Components -->
  <g transform="translate(550, 100)">
    <rect width="200" height="380" fill="#f9f0ff" stroke="#722ed1" stroke-width="2" rx="8" ry="8"/>
    <text x="100" y="30" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Explainability</text>
    
    <g transform="translate(20, 60)">
      <rect width="160" height="80" fill="#f0f5ff" stroke="#2f54eb" stroke-width="1" rx="4" ry="4"/>
      <text x="80" y="20" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">SHAP Values</text>
      <text x="80" y="40" font-family="Arial" font-size="10" text-anchor="middle">Feature Importance</text>
      <text x="80" y="60" font-family="Arial" font-size="10" text-anchor="middle">Quantification</text>
    </g>
    
    <g transform="translate(20, 160)">
      <rect width="160" height="80" fill="#f0f5ff" stroke="#2f54eb" stroke-width="1" rx="4" ry="4"/>
      <text x="80" y="20" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Attention Visualization</text>
      <text x="80" y="40" font-family="Arial" font-size="10" text-anchor="middle">Temporal Feature</text>
      <text x="80" y="60" font-family="Arial" font-size="10" text-anchor="middle">Importance Over Time</text>
    </g>
    
    <g transform="translate(20, 260)">
      <rect width="160" height="80" fill="#f0f5ff" stroke="#2f54eb" stroke-width="1" rx="4" ry="4"/>
      <text x="80" y="20" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Clinical Explanation</text>
      <text x="80" y="40" font-family="Arial" font-size="10" text-anchor="middle">Natural Language</text>
      <text x="80" y="60" font-family="Arial" font-size="10" text-anchor="middle">Summaries for Clinicians</text>
    </g>
  </g>
  
  <!-- Arrows -->
  <!-- Time Series Input to Encoder -->
  <path d="M130,180 L130,220" stroke="#1890ff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Static Input to Encoder -->
  <path d="M400,180 L400,220" stroke="#52c41a" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Time Series Encoder to Fusion -->
  <path d="M130,340 L130,410 L165,410" stroke="#1890ff" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Static Encoder to Fusion -->
  <path d="M400,340 L400,410 L365,410" stroke="#52c41a" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Fusion to Output -->
  <path d="M265,460 L265,500" stroke="#f5222d" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Entire Model to Explainability -->
  <path d="M365,330 C450,330 450,290 550,290" stroke="#722ed1" stroke-width="2" stroke-dasharray="5,5" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Arrowhead Marker -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>
</svg>
